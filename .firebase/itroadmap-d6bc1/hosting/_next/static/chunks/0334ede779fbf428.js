(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,15638,t=>{"use strict";let e,i,s;var r=t.i(79882),n=t.i(80907),h=t.i(72253),a=t.i(13558),o=t.i(12343),l=t.i(80168);let c={some:0,all:1};function u(t,{root:e,margin:i,amount:s,once:r=!1,initial:h=!1}={}){let[a,o]=(0,n.useState)(h);return(0,n.useEffect)(()=>{if(!t.current||r&&a)return;let n={root:e&&e.current||void 0,margin:i,amount:s};return function(t,e,{root:i,margin:s,amount:r="some"}={}){let n=(0,l.resolveElements)(t),h=new WeakMap,a=new IntersectionObserver(t=>{t.forEach(t=>{let i=h.get(t.target);if(!!i!==t.isIntersecting)if(t.isIntersecting){let i=e(t.target,t);"function"==typeof i?h.set(t.target,i):a.unobserve(t.target)}else"function"==typeof i&&(i(t),h.delete(t.target))})},{root:i,rootMargin:s,threshold:"number"==typeof r?r:c[r]});return n.forEach(t=>a.observe(t)),()=>a.disconnect()}(t.current,()=>(o(!0),r?void 0:()=>o(!1)),n)},[e,t,i,r,s]),a}var d=t.i(46774),g=t.i(99206);let m=(0,g.default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);var f=t.i(69601),p=t.i(68426),x=t.i(42521);let b=(0,g.default)("git-branch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);var v=t.i(89848);let y=(0,g.default)("brain-circuit",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]]),w=(0,g.default)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);var M=t.i(2070);let C=(0,g.default)("twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),A=(0,g.default)("linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);var E=t.i(67348),_=t.i(85894),T=t.i(23597),S=t.i(78820),N=t.i(47320);function k(t,e){[...e].reverse().forEach(i=>{let s=t.getVariant(i);s&&(0,S.setTarget)(t,s),t.variantChildren&&t.variantChildren.forEach(t=>{k(t,e)})})}function R(){let t=!1,e=new Set,i={subscribe:t=>(e.add(t),()=>void e.delete(t)),start(i,s){(0,T.invariant)(t,"controls.start() should only be called after a component has mounted. Consider calling within a useEffect hook.");let r=[];return e.forEach(t=>{r.push((0,N.animateVisualElement)(t,i,{transitionOverride:s}))}),Promise.all(r)},set:i=>((0,T.invariant)(t,"controls.set() should only be called after a component has mounted. Consider calling within a useEffect hook."),e.forEach(t=>{var e,s;e=t,Array.isArray(s=i)?k(e,s):"string"==typeof s?k(e,[s]):(0,S.setTarget)(e,s)})),stop(){e.forEach(t=>{t.values.forEach(t=>t.stop())})},mount:()=>(t=!0,()=>{t=!1,i.stop()})};return i}let F=function(){let t=(0,E.useConstant)(R);return(0,_.useIsomorphicLayoutEffect)(t.mount,[]),t},j=({text:t,className:e,delay:i=0,duration:s=.05})=>{let a=F(),o=(0,n.useRef)(null),l=u(o,{once:!0,margin:"-50px"});(0,n.useEffect)(()=>{l&&a.start("visible")},[l,a]);let c={hidden:{opacity:0,y:20,filter:"blur(10px)"},visible:{opacity:1,y:0,filter:"blur(0px)",transition:{duration:.4}}};return(0,r.jsx)(h.motion.div,{ref:o,className:e,variants:{hidden:{},visible:{transition:{staggerChildren:s,delayChildren:i}}},initial:"hidden",animate:a,children:t.split(" ").map((t,e)=>(0,r.jsx)("span",{className:"inline-block mr-[0.2em] whitespace-nowrap",children:t.split("").map((t,e)=>(0,r.jsx)(h.motion.span,{variants:c,className:"inline-block",children:t},e))},e))})};var L=t.i(54478);let O=({children:t,className:e="",spotlightColor:i="rgba(255, 255, 255, 0.15)"})=>{let s=(0,n.useRef)(null),[h,a]=(0,n.useState)({x:0,y:0}),[o,l]=(0,n.useState)(0);return(0,r.jsxs)("div",{ref:s,onMouseMove:t=>{if(!s.current)return;let e=s.current.getBoundingClientRect();a({x:t.clientX-e.left,y:t.clientY-e.top})},onMouseEnter:()=>{l(1)},onMouseLeave:()=>{l(0)},className:(0,L.cn)("relative overflow-hidden rounded-2xl border border-neutral-800 bg-neutral-950",e),children:[(0,r.jsx)("div",{className:"pointer-events-none absolute -inset-px transition duration-300",style:{opacity:o,background:`radial-gradient(600px circle at ${h.x}px ${h.y}px, ${i}, transparent 40%)`}}),(0,r.jsx)("div",{className:"relative h-full",children:t})]})},D=({sparkColor:t="#fff",sparkSize:e=10,sparkRadius:i=15,sparkCount:s=8,duration:h=400,easing:a="ease-out",extraScale:o=1,children:l})=>{let c=(0,n.useRef)(null),u=(0,n.useRef)([]),d=(0,n.useRef)(null);(0,n.useEffect)(()=>{let t,e=c.current;if(!e)return;let i=e.parentElement;if(!i)return;let s=()=>{let{width:t,height:s}=i.getBoundingClientRect();(e.width!==t||e.height!==s)&&(e.width=t,e.height=s)},r=new ResizeObserver(()=>{clearTimeout(t),t=setTimeout(s,100)});return r.observe(i),s(),()=>{r.disconnect(),clearTimeout(t)}},[]);let g=(0,n.useCallback)(t=>{switch(a){case"linear":return t;case"ease-in":return t*t;case"ease-in-out":return t<.5?2*t*t:-1+(4-2*t)*t;default:return t*(2-t)}},[a]);return(0,n.useEffect)(()=>{let s,r=c.current;if(!r)return;let n=r.getContext("2d");if(!n)return;let a=l=>{d.current||(d.current=l),n?.clearRect(0,0,r.width,r.height),u.current=u.current.filter(s=>{let r=l-s.startTime;if(r>=h)return!1;let a=g(r/h),c=a*i*o,u=e*(1-a),d=s.x+c*Math.cos(s.angle),m=s.y+c*Math.sin(s.angle),f=s.x+(c+u)*Math.cos(s.angle),p=s.y+(c+u)*Math.sin(s.angle);return n.strokeStyle=t,n.lineWidth=2,n.beginPath(),n.moveTo(d,m),n.lineTo(f,p),n.stroke(),!0}),s=requestAnimationFrame(a)};return s=requestAnimationFrame(a),()=>{cancelAnimationFrame(s)}},[t,e,i,s,h,g,o]),(0,r.jsxs)("div",{style:{width:"100%",height:"100%",position:"relative"},onClick:t=>{let e=c.current;if(!e)return;let i=e.getBoundingClientRect(),r=t.clientX-i.left,n=t.clientY-i.top,h=performance.now(),a=Array.from({length:s},(t,e)=>({x:r,y:n,angle:2*Math.PI*e/s,startTime:h}));u.current.push(...a)},children:[(0,r.jsx)("canvas",{ref:c,style:{position:"absolute",inset:0,pointerEvents:"none",zIndex:9999}}),l]})};function P(t){let e=t[0],i=t[1],s=t[2];return Math.sqrt(e*e+i*i+s*s)}function I(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function B(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t}function q(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t}function V(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t}function z(t){let e=t[0],i=t[1],s=t[2];return e*e+i*i+s*s}function G(t,e){let i=e[0],s=e[1],r=e[2],n=i*i+s*s+r*r;return n>0&&(n=1/Math.sqrt(n)),t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t}function U(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function H(t,e,i){let s=e[0],r=e[1],n=e[2],h=i[0],a=i[1],o=i[2];return t[0]=r*o-n*a,t[1]=n*h-s*o,t[2]=s*a-r*h,t}let X=(e=[0,0,0],i=[0,0,0],function(t,s){I(e,t),I(i,s),G(e,e),G(i,i);let r=U(e,i);return r>1?0:r<-1?Math.PI:Math.acos(r)});class W extends Array{constructor(t=0,e=t,i=t){return super(t,e,i),this}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(t){this[0]=t}set y(t){this[1]=t}set z(t){this[2]=t}set(t,e=t,i=t){return t.length?this.copy(t):(this[0]=t,this[1]=e,this[2]=i,this)}copy(t){return I(this,t),this}add(t,e){return e?B(this,t,e):B(this,this,t),this}sub(t,e){return e?q(this,t,e):q(this,this,t),this}multiply(t){if(t.length)this[0]=this[0]*t[0],this[1]=this[1]*t[1],this[2]=this[2]*t[2];else V(this,this,t);return this}divide(t){if(t.length)this[0]=this[0]/t[0],this[1]=this[1]/t[1],this[2]=this[2]/t[2];else V(this,this,1/t);return this}inverse(t=this){return this[0]=1/t[0],this[1]=1/t[1],this[2]=1/t[2],this}len(){return P(this)}distance(t){let e,i,s;if(!t)return P(this);return e=t[0]-this[0],Math.sqrt(e*e+(i=t[1]-this[1])*i+(s=t[2]-this[2])*s)}squaredLen(){return z(this)}squaredDistance(t){let e,i,s;if(!t)return z(this);return e=t[0]-this[0],e*e+(i=t[1]-this[1])*i+(s=t[2]-this[2])*s}negate(t=this){return this[0]=-t[0],this[1]=-t[1],this[2]=-t[2],this}cross(t,e){return e?H(this,t,e):H(this,this,t),this}scale(t){return V(this,this,t),this}normalize(){return G(this,this),this}dot(t){return U(this,t)}equals(t){return this[0]===t[0]&&this[1]===t[1]&&this[2]===t[2]}applyMatrix3(t){let e,i,s;return e=this[0],i=this[1],s=this[2],this[0]=e*t[0]+i*t[3]+s*t[6],this[1]=e*t[1]+i*t[4]+s*t[7],this[2]=e*t[2]+i*t[5]+s*t[8],this}applyMatrix4(t){let e,i,s,r;return e=this[0],i=this[1],s=this[2],r=(r=t[3]*e+t[7]*i+t[11]*s+t[15])||1,this[0]=(t[0]*e+t[4]*i+t[8]*s+t[12])/r,this[1]=(t[1]*e+t[5]*i+t[9]*s+t[13])/r,this[2]=(t[2]*e+t[6]*i+t[10]*s+t[14])/r,this}scaleRotateMatrix4(t){let e,i,s,r;return e=this[0],i=this[1],s=this[2],r=(r=t[3]*e+t[7]*i+t[11]*s+t[15])||1,this[0]=(t[0]*e+t[4]*i+t[8]*s)/r,this[1]=(t[1]*e+t[5]*i+t[9]*s)/r,this[2]=(t[2]*e+t[6]*i+t[10]*s)/r,this}applyQuaternion(t){let e,i,s,r,n,h,a,o,l,c,u,d,g,m;return e=this[0],i=this[1],s=this[2],r=t[0],n=t[1],h=t[2],a=t[3],o=n*s-h*i,l=h*e-r*s,c=r*i-n*e,u=n*c-h*l,d=h*o-r*c,g=r*l-n*o,o*=m=2*a,l*=m,c*=m,u*=2,d*=2,g*=2,this[0]=e+o+u,this[1]=i+l+d,this[2]=s+c+g,this}angle(t){return X(this,t)}lerp(t,e){let i,s,r;return i=this[0],s=this[1],r=this[2],this[0]=i+e*(t[0]-i),this[1]=s+e*(t[1]-s),this[2]=r+e*(t[2]-r),this}smoothLerp(t,e,i){let s,r,n,h;return s=Math.exp(-e*i),r=this[0],n=this[1],h=this[2],this[0]=t[0]+(r-t[0])*s,this[1]=t[1]+(n-t[1])*s,this[2]=t[2]+(h-t[2])*s,this}clone(){return new W(this[0],this[1],this[2])}fromArray(t,e=0){return this[0]=t[e],this[1]=t[e+1],this[2]=t[e+2],this}toArray(t=[],e=0){return t[e]=this[0],t[e+1]=this[1],t[e+2]=this[2],t}transformDirection(t){let e=this[0],i=this[1],s=this[2];return this[0]=t[0]*e+t[4]*i+t[8]*s,this[1]=t[1]*e+t[5]*i+t[9]*s,this[2]=t[2]*e+t[6]*i+t[10]*s,this.normalize()}}let Y=new W,Q=1;class K{constructor({canvas:t=document.createElement("canvas"),width:e=300,height:i=150,dpr:s=1,alpha:r=!1,depth:n=!0,stencil:h=!1,antialias:a=!1,premultipliedAlpha:o=!1,preserveDrawingBuffer:l=!1,powerPreference:c="default",autoClear:u=!0,webgl:d=2}={}){const g={alpha:r,depth:n,stencil:h,antialias:a,premultipliedAlpha:o,preserveDrawingBuffer:l,powerPreference:c};this.dpr=s,this.alpha=r,this.color=!0,this.depth=n,this.stencil=h,this.premultipliedAlpha=o,this.autoClear=u,this.id=Q++,2===d&&(this.gl=t.getContext("webgl2",g)),this.isWebgl2=!!this.gl,this.gl||(this.gl=t.getContext("webgl",g)),this.gl||console.error("unable to create webgl context"),this.gl.renderer=this,this.setSize(e,i),this.state={},this.state.blendFunc={src:this.gl.ONE,dst:this.gl.ZERO},this.state.blendEquation={modeRGB:this.gl.FUNC_ADD},this.state.cullFace=!1,this.state.frontFace=this.gl.CCW,this.state.depthMask=!0,this.state.depthFunc=this.gl.LEQUAL,this.state.premultiplyAlpha=!1,this.state.flipY=!1,this.state.unpackAlignment=4,this.state.framebuffer=null,this.state.viewport={x:0,y:0,width:null,height:null},this.state.textureUnits=[],this.state.activeTextureUnit=0,this.state.boundBuffer=null,this.state.uniformLocations=new Map,this.state.currentProgram=null,this.extensions={},this.isWebgl2?(this.getExtension("EXT_color_buffer_float"),this.getExtension("OES_texture_float_linear")):(this.getExtension("OES_texture_float"),this.getExtension("OES_texture_float_linear"),this.getExtension("OES_texture_half_float"),this.getExtension("OES_texture_half_float_linear"),this.getExtension("OES_element_index_uint"),this.getExtension("OES_standard_derivatives"),this.getExtension("EXT_sRGB"),this.getExtension("WEBGL_depth_texture"),this.getExtension("WEBGL_draw_buffers")),this.getExtension("WEBGL_compressed_texture_astc"),this.getExtension("EXT_texture_compression_bptc"),this.getExtension("WEBGL_compressed_texture_s3tc"),this.getExtension("WEBGL_compressed_texture_etc1"),this.getExtension("WEBGL_compressed_texture_pvrtc"),this.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),this.vertexAttribDivisor=this.getExtension("ANGLE_instanced_arrays","vertexAttribDivisor","vertexAttribDivisorANGLE"),this.drawArraysInstanced=this.getExtension("ANGLE_instanced_arrays","drawArraysInstanced","drawArraysInstancedANGLE"),this.drawElementsInstanced=this.getExtension("ANGLE_instanced_arrays","drawElementsInstanced","drawElementsInstancedANGLE"),this.createVertexArray=this.getExtension("OES_vertex_array_object","createVertexArray","createVertexArrayOES"),this.bindVertexArray=this.getExtension("OES_vertex_array_object","bindVertexArray","bindVertexArrayOES"),this.deleteVertexArray=this.getExtension("OES_vertex_array_object","deleteVertexArray","deleteVertexArrayOES"),this.drawBuffers=this.getExtension("WEBGL_draw_buffers","drawBuffers","drawBuffersWEBGL"),this.parameters={},this.parameters.maxTextureUnits=this.gl.getParameter(this.gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),this.parameters.maxAnisotropy=this.getExtension("EXT_texture_filter_anisotropic")?this.gl.getParameter(this.getExtension("EXT_texture_filter_anisotropic").MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}setSize(t,e){this.width=t,this.height=e,this.gl.canvas.width=t*this.dpr,this.gl.canvas.height=e*this.dpr,this.gl.canvas.style&&Object.assign(this.gl.canvas.style,{width:t+"px",height:e+"px"})}setViewport(t,e,i=0,s=0){(this.state.viewport.width!==t||this.state.viewport.height!==e)&&(this.state.viewport.width=t,this.state.viewport.height=e,this.state.viewport.x=i,this.state.viewport.y=s,this.gl.viewport(i,s,t,e))}setScissor(t,e,i=0,s=0){this.gl.scissor(i,s,t,e)}enable(t){!0!==this.state[t]&&(this.gl.enable(t),this.state[t]=!0)}disable(t){!1!==this.state[t]&&(this.gl.disable(t),this.state[t]=!1)}setBlendFunc(t,e,i,s){(this.state.blendFunc.src!==t||this.state.blendFunc.dst!==e||this.state.blendFunc.srcAlpha!==i||this.state.blendFunc.dstAlpha!==s)&&(this.state.blendFunc.src=t,this.state.blendFunc.dst=e,this.state.blendFunc.srcAlpha=i,this.state.blendFunc.dstAlpha=s,void 0!==i?this.gl.blendFuncSeparate(t,e,i,s):this.gl.blendFunc(t,e))}setBlendEquation(t,e){t=t||this.gl.FUNC_ADD,(this.state.blendEquation.modeRGB!==t||this.state.blendEquation.modeAlpha!==e)&&(this.state.blendEquation.modeRGB=t,this.state.blendEquation.modeAlpha=e,void 0!==e?this.gl.blendEquationSeparate(t,e):this.gl.blendEquation(t))}setCullFace(t){this.state.cullFace!==t&&(this.state.cullFace=t,this.gl.cullFace(t))}setFrontFace(t){this.state.frontFace!==t&&(this.state.frontFace=t,this.gl.frontFace(t))}setDepthMask(t){this.state.depthMask!==t&&(this.state.depthMask=t,this.gl.depthMask(t))}setDepthFunc(t){this.state.depthFunc!==t&&(this.state.depthFunc=t,this.gl.depthFunc(t))}setStencilMask(t){this.state.stencilMask!==t&&(this.state.stencilMask=t,this.gl.stencilMask(t))}setStencilFunc(t,e,i){(this.state.stencilFunc!==t||this.state.stencilRef!==e||this.state.stencilFuncMask!==i)&&(this.state.stencilFunc=t||this.gl.ALWAYS,this.state.stencilRef=e||0,this.state.stencilFuncMask=i||0,this.gl.stencilFunc(t||this.gl.ALWAYS,e||0,i||0))}setStencilOp(t,e,i){(this.state.stencilFail!==t||this.state.stencilDepthFail!==e||this.state.stencilDepthPass!==i)&&(this.state.stencilFail=t,this.state.stencilDepthFail=e,this.state.stencilDepthPass=i,this.gl.stencilOp(t,e,i))}activeTexture(t){this.state.activeTextureUnit!==t&&(this.state.activeTextureUnit=t,this.gl.activeTexture(this.gl.TEXTURE0+t))}bindFramebuffer({target:t=this.gl.FRAMEBUFFER,buffer:e=null}={}){this.state.framebuffer!==e&&(this.state.framebuffer=e,this.gl.bindFramebuffer(t,e))}getExtension(t,e,i){return e&&this.gl[e]?this.gl[e].bind(this.gl):(this.extensions[t]||(this.extensions[t]=this.gl.getExtension(t)),e)?this.extensions[t]?this.extensions[t][i].bind(this.extensions[t]):null:this.extensions[t]}sortOpaque(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program.id!==e.program.id?t.program.id-e.program.id:t.zDepth!==e.zDepth?t.zDepth-e.zDepth:e.id-t.id}sortTransparent(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.zDepth!==e.zDepth?e.zDepth-t.zDepth:e.id-t.id}sortUI(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program.id!==e.program.id?t.program.id-e.program.id:e.id-t.id}getRenderList({scene:t,camera:e,frustumCull:i,sort:s}){let r=[];if(e&&i&&e.updateFrustum(),t.traverse(t=>!t.visible||(t.draw?void((!i||!t.frustumCulled||!e||e.frustumIntersectsMesh(t))&&r.push(t)):void 0)),s){let t=[],i=[],s=[];r.forEach(r=>{r.program.transparent?r.program.depthTest?i.push(r):s.push(r):t.push(r),r.zDepth=0,0===r.renderOrder&&r.program.depthTest&&e&&(r.worldMatrix.getTranslation(Y),Y.applyMatrix4(e.projectionViewMatrix),r.zDepth=Y.z)}),t.sort(this.sortOpaque),i.sort(this.sortTransparent),s.sort(this.sortUI),r=t.concat(i,s)}return r}render({scene:t,camera:e,target:i=null,update:s=!0,sort:r=!0,frustumCull:n=!0,clear:h}){null===i?(this.bindFramebuffer(),this.setViewport(this.width*this.dpr,this.height*this.dpr)):(this.bindFramebuffer(i),this.setViewport(i.width,i.height)),(h||this.autoClear&&!1!==h)&&(this.depth&&(!i||i.depth)&&(this.enable(this.gl.DEPTH_TEST),this.setDepthMask(!0)),(this.stencil||!i||i.stencil)&&(this.enable(this.gl.STENCIL_TEST),this.setStencilMask(255)),this.gl.clear((this.color?this.gl.COLOR_BUFFER_BIT:0)|(this.depth?this.gl.DEPTH_BUFFER_BIT:0)|(this.stencil?this.gl.STENCIL_BUFFER_BIT:0))),s&&t.updateMatrixWorld(),e&&e.updateMatrixWorld(),this.getRenderList({scene:t,camera:e,frustumCull:n,sort:r}).forEach(t=>{t.draw({camera:e})})}}let Z=1,$={};class J{constructor(t,{vertex:e,fragment:i,uniforms:s={},transparent:r=!1,cullFace:n=t.BACK,frontFace:h=t.CCW,depthTest:a=!0,depthWrite:o=!0,depthFunc:l=t.LEQUAL}={}){t.canvas||console.error("gl not passed as first argument to Program"),this.gl=t,this.uniforms=s,this.id=Z++,e||console.warn("vertex shader not supplied"),i||console.warn("fragment shader not supplied"),this.transparent=r,this.cullFace=n,this.frontFace=h,this.depthTest=a,this.depthWrite=o,this.depthFunc=l,this.blendFunc={},this.blendEquation={},this.stencilFunc={},this.stencilOp={},this.transparent&&!this.blendFunc.src&&(this.gl.renderer.premultipliedAlpha?this.setBlendFunc(this.gl.ONE,this.gl.ONE_MINUS_SRC_ALPHA):this.setBlendFunc(this.gl.SRC_ALPHA,this.gl.ONE_MINUS_SRC_ALPHA)),this.vertexShader=t.createShader(t.VERTEX_SHADER),this.fragmentShader=t.createShader(t.FRAGMENT_SHADER),this.program=t.createProgram(),t.attachShader(this.program,this.vertexShader),t.attachShader(this.program,this.fragmentShader),this.setShaders({vertex:e,fragment:i})}setShaders({vertex:t,fragment:e}){if(t&&(this.gl.shaderSource(this.vertexShader,t),this.gl.compileShader(this.vertexShader),""!==this.gl.getShaderInfoLog(this.vertexShader)&&console.warn(`${this.gl.getShaderInfoLog(this.vertexShader)}
Vertex Shader
${te(t)}`)),e&&(this.gl.shaderSource(this.fragmentShader,e),this.gl.compileShader(this.fragmentShader),""!==this.gl.getShaderInfoLog(this.fragmentShader)&&console.warn(`${this.gl.getShaderInfoLog(this.fragmentShader)}
Fragment Shader
${te(e)}`)),this.gl.linkProgram(this.program),!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))return console.warn(this.gl.getProgramInfoLog(this.program));this.uniformLocations=new Map;let i=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_UNIFORMS);for(let t=0;t<i;t++){let e=this.gl.getActiveUniform(this.program,t);this.uniformLocations.set(e,this.gl.getUniformLocation(this.program,e.name));let i=e.name.match(/(\w+)/g);e.uniformName=i[0],e.nameComponents=i.slice(1)}this.attributeLocations=new Map;let s=[],r=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES);for(let t=0;t<r;t++){let e=this.gl.getActiveAttrib(this.program,t),i=this.gl.getAttribLocation(this.program,e.name);-1!==i&&(s[i]=e.name,this.attributeLocations.set(e,i))}this.attributeOrder=s.join("")}setBlendFunc(t,e,i,s){this.blendFunc.src=t,this.blendFunc.dst=e,this.blendFunc.srcAlpha=i,this.blendFunc.dstAlpha=s,t&&(this.transparent=!0)}setBlendEquation(t,e){this.blendEquation.modeRGB=t,this.blendEquation.modeAlpha=e}setStencilFunc(t,e,i){this.stencilRef=e,this.stencilFunc.func=t,this.stencilFunc.ref=e,this.stencilFunc.mask=i}setStencilOp(t,e,i){this.stencilOp.stencilFail=t,this.stencilOp.depthFail=e,this.stencilOp.depthPass=i}applyState(){this.depthTest?this.gl.renderer.enable(this.gl.DEPTH_TEST):this.gl.renderer.disable(this.gl.DEPTH_TEST),this.cullFace?this.gl.renderer.enable(this.gl.CULL_FACE):this.gl.renderer.disable(this.gl.CULL_FACE),this.blendFunc.src?this.gl.renderer.enable(this.gl.BLEND):this.gl.renderer.disable(this.gl.BLEND),this.cullFace&&this.gl.renderer.setCullFace(this.cullFace),this.gl.renderer.setFrontFace(this.frontFace),this.gl.renderer.setDepthMask(this.depthWrite),this.gl.renderer.setDepthFunc(this.depthFunc),this.blendFunc.src&&this.gl.renderer.setBlendFunc(this.blendFunc.src,this.blendFunc.dst,this.blendFunc.srcAlpha,this.blendFunc.dstAlpha),this.gl.renderer.setBlendEquation(this.blendEquation.modeRGB,this.blendEquation.modeAlpha),this.stencilFunc.func||this.stencilOp.stencilFail?this.gl.renderer.enable(this.gl.STENCIL_TEST):this.gl.renderer.disable(this.gl.STENCIL_TEST),this.gl.renderer.setStencilFunc(this.stencilFunc.func,this.stencilFunc.ref,this.stencilFunc.mask),this.gl.renderer.setStencilOp(this.stencilOp.stencilFail,this.stencilOp.depthFail,this.stencilOp.depthPass)}use({flipFaces:t=!1}={}){let e=-1;this.gl.renderer.state.currentProgram!==this.id&&(this.gl.useProgram(this.program),this.gl.renderer.state.currentProgram=this.id),this.uniformLocations.forEach((t,i)=>{let s=this.uniforms[i.uniformName];for(let t of i.nameComponents){if(!s)break;if(t in s)s=s[t];else if(Array.isArray(s.value))break;else{s=void 0;break}}if(!s)return ts(`Active uniform ${i.name} has not been supplied`);if(s&&void 0===s.value)return ts(`${i.name} uniform is missing a value parameter`);if(s.value.texture)return e+=1,s.value.update(e),tt(this.gl,i.type,t,e);if(s.value.length&&s.value[0].texture){let r=[];return s.value.forEach(t=>{e+=1,t.update(e),r.push(e)}),tt(this.gl,i.type,t,r)}tt(this.gl,i.type,t,s.value)}),this.applyState(),t&&this.gl.renderer.setFrontFace(this.frontFace===this.gl.CCW?this.gl.CW:this.gl.CCW)}remove(){this.gl.deleteProgram(this.program)}}function tt(t,e,i,s){s=s.length?function(t){let e=t.length,i=t[0].length;if(void 0===i)return t;let s=e*i,r=$[s];r||($[s]=r=new Float32Array(s));for(let s=0;s<e;s++)r.set(t[s],s*i);return r}(s):s;let r=t.renderer.state.uniformLocations.get(i);if(s.length)if(void 0===r||r.length!==s.length)t.renderer.state.uniformLocations.set(i,s.slice(0));else{if(function(t,e){if(t.length!==e.length)return!1;for(let i=0,s=t.length;i<s;i++)if(t[i]!==e[i])return!1;return!0}(r,s))return;r.set?r.set(s):function(t,e){for(let i=0,s=t.length;i<s;i++)t[i]=e[i]}(r,s),t.renderer.state.uniformLocations.set(i,r)}else{if(r===s)return;t.renderer.state.uniformLocations.set(i,s)}switch(e){case 5126:return s.length?t.uniform1fv(i,s):t.uniform1f(i,s);case 35664:return t.uniform2fv(i,s);case 35665:return t.uniform3fv(i,s);case 35666:return t.uniform4fv(i,s);case 35670:case 5124:case 35678:case 36306:case 35680:case 36289:return s.length?t.uniform1iv(i,s):t.uniform1i(i,s);case 35671:case 35667:return t.uniform2iv(i,s);case 35672:case 35668:return t.uniform3iv(i,s);case 35673:case 35669:return t.uniform4iv(i,s);case 35674:return t.uniformMatrix2fv(i,!1,s);case 35675:return t.uniformMatrix3fv(i,!1,s);case 35676:return t.uniformMatrix4fv(i,!1,s)}}function te(t){let e=t.split("\n");for(let t=0;t<e.length;t++)e[t]=t+1+": "+e[t];return e.join("\n")}let ti=0;function ts(t){!(ti>100)&&(console.warn(t),++ti>100&&console.warn("More than 100 program warnings - stopping logs."))}let tr=new W,tn=1,th=1,ta=!1;class to{constructor(t,e={}){for(let i in t.canvas||console.error("gl not passed as first argument to Geometry"),this.gl=t,this.attributes=e,this.id=tn++,this.VAOs={},this.drawRange={start:0,count:0},this.instancedCount=0,this.gl.renderer.bindVertexArray(null),this.gl.renderer.currentGeometry=null,this.glState=this.gl.renderer.state,e)this.addAttribute(i,e[i])}addAttribute(t,e){if(this.attributes[t]=e,e.id=th++,e.size=e.size||1,e.type=e.type||(e.data.constructor===Float32Array?this.gl.FLOAT:e.data.constructor===Uint16Array?this.gl.UNSIGNED_SHORT:this.gl.UNSIGNED_INT),e.target="index"===t?this.gl.ELEMENT_ARRAY_BUFFER:this.gl.ARRAY_BUFFER,e.normalized=e.normalized||!1,e.stride=e.stride||0,e.offset=e.offset||0,e.count=e.count||(e.stride?e.data.byteLength/e.stride:e.data.length/e.size),e.divisor=e.instanced||0,e.needsUpdate=!1,e.usage=e.usage||this.gl.STATIC_DRAW,e.buffer||this.updateAttribute(e),e.divisor){if(this.isInstanced=!0,this.instancedCount&&this.instancedCount!==e.count*e.divisor)return console.warn("geometry has multiple instanced buffers of different length"),this.instancedCount=Math.min(this.instancedCount,e.count*e.divisor);this.instancedCount=e.count*e.divisor}else"index"===t?this.drawRange.count=e.count:this.attributes.index||(this.drawRange.count=Math.max(this.drawRange.count,e.count))}updateAttribute(t){let e=!t.buffer;e&&(t.buffer=this.gl.createBuffer()),this.glState.boundBuffer!==t.buffer&&(this.gl.bindBuffer(t.target,t.buffer),this.glState.boundBuffer=t.buffer),e?this.gl.bufferData(t.target,t.data,t.usage):this.gl.bufferSubData(t.target,0,t.data),t.needsUpdate=!1}setIndex(t){this.addAttribute("index",t)}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}setInstancedCount(t){this.instancedCount=t}createVAO(t){this.VAOs[t.attributeOrder]=this.gl.renderer.createVertexArray(),this.gl.renderer.bindVertexArray(this.VAOs[t.attributeOrder]),this.bindAttributes(t)}bindAttributes(t){t.attributeLocations.forEach((t,{name:e,type:i})=>{if(!this.attributes[e])return void console.warn(`active attribute ${e} not being supplied`);let s=this.attributes[e];this.gl.bindBuffer(s.target,s.buffer),this.glState.boundBuffer=s.buffer;let r=1;35674===i&&(r=2),35675===i&&(r=3),35676===i&&(r=4);let n=s.size/r,h=1===r?0:r*r*4,a=1===r?0:4*r;for(let e=0;e<r;e++)this.gl.vertexAttribPointer(t+e,n,s.type,s.normalized,s.stride+h,s.offset+e*a),this.gl.enableVertexAttribArray(t+e),this.gl.renderer.vertexAttribDivisor(t+e,s.divisor)}),this.attributes.index&&this.gl.bindBuffer(this.gl.ELEMENT_ARRAY_BUFFER,this.attributes.index.buffer)}draw({program:t,mode:e=this.gl.TRIANGLES}){this.gl.renderer.currentGeometry!==`${this.id}_${t.attributeOrder}`&&(this.VAOs[t.attributeOrder]||this.createVAO(t),this.gl.renderer.bindVertexArray(this.VAOs[t.attributeOrder]),this.gl.renderer.currentGeometry=`${this.id}_${t.attributeOrder}`),t.attributeLocations.forEach((t,{name:e})=>{let i=this.attributes[e];i.needsUpdate&&this.updateAttribute(i)});let i=2;this.attributes.index?.type===this.gl.UNSIGNED_INT&&(i=4),this.isInstanced?this.attributes.index?this.gl.renderer.drawElementsInstanced(e,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*i,this.instancedCount):this.gl.renderer.drawArraysInstanced(e,this.drawRange.start,this.drawRange.count,this.instancedCount):this.attributes.index?this.gl.drawElements(e,this.drawRange.count,this.attributes.index.type,this.attributes.index.offset+this.drawRange.start*i):this.gl.drawArrays(e,this.drawRange.start,this.drawRange.count)}getPosition(){let t=this.attributes.position;return t.data?t:ta?void 0:(console.warn("No position buffer data found to compute bounds"),ta=!0)}computeBoundingBox(t){t||(t=this.getPosition());let e=t.data,i=t.size;this.bounds||(this.bounds={min:new W,max:new W,center:new W,scale:new W,radius:1/0});let s=this.bounds.min,r=this.bounds.max,n=this.bounds.center,h=this.bounds.scale;s.set(Infinity),r.set(-1/0);for(let t=0,n=e.length;t<n;t+=i){let i=e[t],n=e[t+1],h=e[t+2];s.x=Math.min(i,s.x),s.y=Math.min(n,s.y),s.z=Math.min(h,s.z),r.x=Math.max(i,r.x),r.y=Math.max(n,r.y),r.z=Math.max(h,r.z)}h.sub(r,s),n.add(s,r).divide(2)}computeBoundingSphere(t){t||(t=this.getPosition());let e=t.data,i=t.size;this.bounds||this.computeBoundingBox(t);let s=0;for(let t=0,r=e.length;t<r;t+=i)tr.fromArray(e,t),s=Math.max(s,this.bounds.center.squaredDistance(tr));this.bounds.radius=Math.sqrt(s)}remove(){for(let t in this.VAOs)this.gl.renderer.deleteVertexArray(this.VAOs[t]),delete this.VAOs[t];for(let t in this.attributes)this.gl.deleteBuffer(this.attributes[t].buffer),delete this.attributes[t]}}class tl extends to{constructor(t,{attributes:e={}}={}){Object.assign(e,{position:{size:2,data:new Float32Array([-1,-1,3,-1,-1,3])},uv:{size:2,data:new Float32Array([0,0,2,0,0,2])}}),super(t,e)}}function tc(t,e,i){let s=e[0],r=e[1],n=e[2],h=e[3],a=i[0],o=i[1],l=i[2],c=i[3];return t[0]=s*c+h*a+r*l-n*o,t[1]=r*c+h*o+n*a-s*l,t[2]=n*c+h*l+s*o-r*a,t[3]=h*c-s*a-r*o-n*l,t}let tu=function(t,e){let i=e[0],s=e[1],r=e[2],n=e[3],h=i*i+s*s+r*r+n*n;return h>0&&(h=1/Math.sqrt(h)),t[0]=i*h,t[1]=s*h,t[2]=r*h,t[3]=n*h,t};class td extends Array{constructor(t=0,e=0,i=0,s=1){super(t,e,i,s),this.onChange=()=>{},this._target=this;const r=["0","1","2","3"];return new Proxy(this,{set(t,e){let i=Reflect.set(...arguments);return i&&r.includes(e)&&t.onChange(),i}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}get w(){return this[3]}set x(t){this._target[0]=t,this.onChange()}set y(t){this._target[1]=t,this.onChange()}set z(t){this._target[2]=t,this.onChange()}set w(t){this._target[3]=t,this.onChange()}identity(){var t;return(t=this._target)[0]=0,t[1]=0,t[2]=0,t[3]=1,this.onChange(),this}set(t,e,i,s){var r;return t.length?this.copy(t):(r=this._target,r[0]=t,r[1]=e,r[2]=i,r[3]=s,this.onChange(),this)}rotateX(t){var e,i,s;let r,n,h,a,o,l;return e=this._target,i=this._target,s=.5*t,r=i[0],n=i[1],h=i[2],a=i[3],o=Math.sin(s),l=Math.cos(s),e[0]=r*l+a*o,e[1]=n*l+h*o,e[2]=h*l-n*o,e[3]=a*l-r*o,this.onChange(),this}rotateY(t){var e,i,s;let r,n,h,a,o,l;return e=this._target,i=this._target,s=.5*t,r=i[0],n=i[1],h=i[2],a=i[3],o=Math.sin(s),l=Math.cos(s),e[0]=r*l-h*o,e[1]=n*l+a*o,e[2]=h*l+r*o,e[3]=a*l-n*o,this.onChange(),this}rotateZ(t){var e,i,s;let r,n,h,a,o,l;return e=this._target,i=this._target,s=.5*t,r=i[0],n=i[1],h=i[2],a=i[3],o=Math.sin(s),l=Math.cos(s),e[0]=r*l+n*o,e[1]=n*l-r*o,e[2]=h*l+a*o,e[3]=a*l-h*o,this.onChange(),this}inverse(t=this._target){var e;let i,s,r,n,h,a;return e=this._target,i=t[0],s=t[1],a=(h=i*i+s*s+(r=t[2])*r+(n=t[3])*n)?1/h:0,e[0]=-i*a,e[1]=-s*a,e[2]=-r*a,e[3]=n*a,this.onChange(),this}conjugate(t=this._target){var e;return e=this._target,e[0]=-t[0],e[1]=-t[1],e[2]=-t[2],e[3]=t[3],this.onChange(),this}copy(t){var e;return e=this._target,e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],this.onChange(),this}normalize(t=this._target){return tu(this._target,t),this.onChange(),this}multiply(t,e){return e?tc(this._target,t,e):tc(this._target,this._target,t),this.onChange(),this}dot(t){var e;return e=this._target,e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}fromMatrix3(t){return!function(t,e){let i,s=e[0]+e[4]+e[8];if(s>0)i=Math.sqrt(s+1),t[3]=.5*i,i=.5/i,t[0]=(e[5]-e[7])*i,t[1]=(e[6]-e[2])*i,t[2]=(e[1]-e[3])*i;else{let s=0;e[4]>e[0]&&(s=1),e[8]>e[3*s+s]&&(s=2);let r=(s+1)%3,n=(s+2)%3;i=Math.sqrt(e[3*s+s]-e[3*r+r]-e[3*n+n]+1),t[s]=.5*i,i=.5/i,t[3]=(e[3*r+n]-e[3*n+r])*i,t[r]=(e[3*r+s]+e[3*s+r])*i,t[n]=(e[3*n+s]+e[3*s+n])*i}}(this._target,t),this.onChange(),this}fromEuler(t,e){return!function(t,e,i="YXZ"){let s=Math.sin(.5*e[0]),r=Math.cos(.5*e[0]),n=Math.sin(.5*e[1]),h=Math.cos(.5*e[1]),a=Math.sin(.5*e[2]),o=Math.cos(.5*e[2]);"XYZ"===i?(t[0]=s*h*o+r*n*a,t[1]=r*n*o-s*h*a,t[2]=r*h*a+s*n*o,t[3]=r*h*o-s*n*a):"YXZ"===i?(t[0]=s*h*o+r*n*a,t[1]=r*n*o-s*h*a,t[2]=r*h*a-s*n*o,t[3]=r*h*o+s*n*a):"ZXY"===i?(t[0]=s*h*o-r*n*a,t[1]=r*n*o+s*h*a,t[2]=r*h*a+s*n*o,t[3]=r*h*o-s*n*a):"ZYX"===i?(t[0]=s*h*o-r*n*a,t[1]=r*n*o+s*h*a,t[2]=r*h*a-s*n*o,t[3]=r*h*o+s*n*a):"YZX"===i?(t[0]=s*h*o+r*n*a,t[1]=r*n*o+s*h*a,t[2]=r*h*a-s*n*o,t[3]=r*h*o-s*n*a):"XZY"===i&&(t[0]=s*h*o-r*n*a,t[1]=r*n*o-s*h*a,t[2]=r*h*a+s*n*o,t[3]=r*h*o+s*n*a)}(this._target,t,t.order),e||this.onChange(),this}fromAxisAngle(t,e){var i,s;let r;return i=this._target,r=Math.sin(s=.5*e),i[0]=r*t[0],i[1]=r*t[1],i[2]=r*t[2],i[3]=Math.cos(s),this.onChange(),this}slerp(t,e){var i,s;let r,n,h,a,o,l,c,u,d,g,m,f,p;return i=this._target,s=this._target,l=s[0],c=s[1],u=s[2],d=s[3],g=t[0],m=t[1],(n=l*g+c*m+u*(f=t[2])+d*(p=t[3]))<0&&(n=-n,g=-g,m=-m,f=-f,p=-p),1-n>1e-6?(h=Math.sin(r=Math.acos(n)),a=Math.sin((1-e)*r)/h,o=Math.sin(e*r)/h):(a=1-e,o=e),i[0]=a*l+o*g,i[1]=a*c+o*m,i[2]=a*u+o*f,i[3]=a*d+o*p,this.onChange(),this}fromArray(t,e=0){return this._target[0]=t[e],this._target[1]=t[e+1],this._target[2]=t[e+2],this._target[3]=t[e+3],this.onChange(),this}toArray(t=[],e=0){return t[e]=this[0],t[e+1]=this[1],t[e+2]=this[2],t[e+3]=this[3],t}}function tg(t){let e=t[0],i=t[1],s=t[2],r=t[3],n=t[4],h=t[5],a=t[6],o=t[7],l=t[8],c=t[9],u=t[10],d=t[11],g=t[12],m=t[13],f=t[14],p=t[15];return(e*h-i*n)*(u*p-d*f)-(e*a-s*n)*(c*p-d*m)+(e*o-r*n)*(c*f-u*m)+(i*a-s*h)*(l*p-d*g)-(i*o-r*h)*(l*f-u*g)+(s*o-r*a)*(l*m-c*g)}function tm(t,e,i){let s=e[0],r=e[1],n=e[2],h=e[3],a=e[4],o=e[5],l=e[6],c=e[7],u=e[8],d=e[9],g=e[10],m=e[11],f=e[12],p=e[13],x=e[14],b=e[15],v=i[0],y=i[1],w=i[2],M=i[3];return t[0]=v*s+y*a+w*u+M*f,t[1]=v*r+y*o+w*d+M*p,t[2]=v*n+y*l+w*g+M*x,t[3]=v*h+y*c+w*m+M*b,v=i[4],y=i[5],w=i[6],M=i[7],t[4]=v*s+y*a+w*u+M*f,t[5]=v*r+y*o+w*d+M*p,t[6]=v*n+y*l+w*g+M*x,t[7]=v*h+y*c+w*m+M*b,v=i[8],y=i[9],w=i[10],M=i[11],t[8]=v*s+y*a+w*u+M*f,t[9]=v*r+y*o+w*d+M*p,t[10]=v*n+y*l+w*g+M*x,t[11]=v*h+y*c+w*m+M*b,v=i[12],y=i[13],w=i[14],M=i[15],t[12]=v*s+y*a+w*u+M*f,t[13]=v*r+y*o+w*d+M*p,t[14]=v*n+y*l+w*g+M*x,t[15]=v*h+y*c+w*m+M*b,t}function tf(t,e){let i=e[0],s=e[1],r=e[2],n=e[4],h=e[5],a=e[6],o=e[8],l=e[9],c=e[10];return t[0]=Math.hypot(i,s,r),t[1]=Math.hypot(n,h,a),t[2]=Math.hypot(o,l,c),t}let tp=(s=[1,1,1],function(t,e){tf(s,e);let i=1/s[0],r=1/s[1],n=1/s[2],h=e[0]*i,a=e[1]*r,o=e[2]*n,l=e[4]*i,c=e[5]*r,u=e[6]*n,d=e[8]*i,g=e[9]*r,m=e[10]*n,f=h+c+m,p=0;return f>0?(p=2*Math.sqrt(f+1),t[3]=.25*p,t[0]=(u-g)/p,t[1]=(d-o)/p,t[2]=(a-l)/p):h>c&&h>m?(p=2*Math.sqrt(1+h-c-m),t[3]=(u-g)/p,t[0]=.25*p,t[1]=(a+l)/p,t[2]=(d+o)/p):c>m?(p=2*Math.sqrt(1+c-h-m),t[3]=(d-o)/p,t[0]=(a+l)/p,t[1]=.25*p,t[2]=(u+g)/p):(p=2*Math.sqrt(1+m-h-c),t[3]=(a-l)/p,t[0]=(d+o)/p,t[1]=(u+g)/p,t[2]=.25*p),t});function tx(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t[4]=e[4]+i[4],t[5]=e[5]+i[5],t[6]=e[6]+i[6],t[7]=e[7]+i[7],t[8]=e[8]+i[8],t[9]=e[9]+i[9],t[10]=e[10]+i[10],t[11]=e[11]+i[11],t[12]=e[12]+i[12],t[13]=e[13]+i[13],t[14]=e[14]+i[14],t[15]=e[15]+i[15],t}function tb(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t[4]=e[4]-i[4],t[5]=e[5]-i[5],t[6]=e[6]-i[6],t[7]=e[7]-i[7],t[8]=e[8]-i[8],t[9]=e[9]-i[9],t[10]=e[10]-i[10],t[11]=e[11]-i[11],t[12]=e[12]-i[12],t[13]=e[13]-i[13],t[14]=e[14]-i[14],t[15]=e[15]-i[15],t}class tv extends Array{constructor(t=1,e=0,i=0,s=0,r=0,n=1,h=0,a=0,o=0,l=0,c=1,u=0,d=0,g=0,m=0,f=1){return super(t,e,i,s,r,n,h,a,o,l,c,u,d,g,m,f),this}get x(){return this[12]}get y(){return this[13]}get z(){return this[14]}get w(){return this[15]}set x(t){this[12]=t}set y(t){this[13]=t}set z(t){this[14]=t}set w(t){this[15]=t}set(t,e,i,s,r,n,h,a,o,l,c,u,d,g,m,f){return t.length?this.copy(t):(this[0]=t,this[1]=e,this[2]=i,this[3]=s,this[4]=r,this[5]=n,this[6]=h,this[7]=a,this[8]=o,this[9]=l,this[10]=c,this[11]=u,this[12]=d,this[13]=g,this[14]=m,this[15]=f,this)}translate(t,e=this){let i,s,r,n,h,a,o,l,c,u,d,g,m,f,p;return m=t[0],f=t[1],p=t[2],e===this?(this[12]=e[0]*m+e[4]*f+e[8]*p+e[12],this[13]=e[1]*m+e[5]*f+e[9]*p+e[13],this[14]=e[2]*m+e[6]*f+e[10]*p+e[14],this[15]=e[3]*m+e[7]*f+e[11]*p+e[15]):(i=e[0],s=e[1],r=e[2],n=e[3],h=e[4],a=e[5],o=e[6],l=e[7],c=e[8],u=e[9],d=e[10],g=e[11],this[0]=i,this[1]=s,this[2]=r,this[3]=n,this[4]=h,this[5]=a,this[6]=o,this[7]=l,this[8]=c,this[9]=u,this[10]=d,this[11]=g,this[12]=i*m+h*f+c*p+e[12],this[13]=s*m+a*f+u*p+e[13],this[14]=r*m+o*f+d*p+e[14],this[15]=n*m+l*f+g*p+e[15]),this}rotate(t,e,i=this){let s,r,n,h,a,o,l,c,u,d,g,m,f,p,x,b,v,y,w,M,C,A,E,_,T,S,N,k;return T=e[0],1e-6>Math.abs(k=Math.hypot(T,S=e[1],N=e[2]))||(T*=k=1/k,S*=k,N*=k,s=Math.sin(t),n=1-(r=Math.cos(t)),h=i[0],a=i[1],o=i[2],l=i[3],c=i[4],u=i[5],d=i[6],g=i[7],m=i[8],f=i[9],p=i[10],x=i[11],b=T*T*n+r,v=S*T*n+N*s,y=N*T*n-S*s,w=T*S*n-N*s,M=S*S*n+r,C=N*S*n+T*s,A=T*N*n+S*s,E=S*N*n-T*s,_=N*N*n+r,this[0]=h*b+c*v+m*y,this[1]=a*b+u*v+f*y,this[2]=o*b+d*v+p*y,this[3]=l*b+g*v+x*y,this[4]=h*w+c*M+m*C,this[5]=a*w+u*M+f*C,this[6]=o*w+d*M+p*C,this[7]=l*w+g*M+x*C,this[8]=h*A+c*E+m*_,this[9]=a*A+u*E+f*_,this[10]=o*A+d*E+p*_,this[11]=l*A+g*E+x*_,i!==this&&(this[12]=i[12],this[13]=i[13],this[14]=i[14],this[15]=i[15])),this}scale(t,e=this){var i;let s,r,n;return s=(i="number"==typeof t?[t,t,t]:t)[0],r=i[1],n=i[2],this[0]=e[0]*s,this[1]=e[1]*s,this[2]=e[2]*s,this[3]=e[3]*s,this[4]=e[4]*r,this[5]=e[5]*r,this[6]=e[6]*r,this[7]=e[7]*r,this[8]=e[8]*n,this[9]=e[9]*n,this[10]=e[10]*n,this[11]=e[11]*n,this[12]=e[12],this[13]=e[13],this[14]=e[14],this[15]=e[15],this}add(t,e){return e?tx(this,t,e):tx(this,this,t),this}sub(t,e){return e?tb(this,t,e):tb(this,this,t),this}multiply(t,e){if(t.length)e?tm(this,t,e):tm(this,this,t);else this[0]=this[0]*t,this[1]=this[1]*t,this[2]=this[2]*t,this[3]=this[3]*t,this[4]=this[4]*t,this[5]=this[5]*t,this[6]=this[6]*t,this[7]=this[7]*t,this[8]=this[8]*t,this[9]=this[9]*t,this[10]=this[10]*t,this[11]=this[11]*t,this[12]=this[12]*t,this[13]=this[13]*t,this[14]=this[14]*t,this[15]=this[15]*t;return this}identity(){return this[0]=1,this[1]=0,this[2]=0,this[3]=0,this[4]=0,this[5]=1,this[6]=0,this[7]=0,this[8]=0,this[9]=0,this[10]=1,this[11]=0,this[12]=0,this[13]=0,this[14]=0,this[15]=1,this}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this[4]=t[4],this[5]=t[5],this[6]=t[6],this[7]=t[7],this[8]=t[8],this[9]=t[9],this[10]=t[10],this[11]=t[11],this[12]=t[12],this[13]=t[13],this[14]=t[14],this[15]=t[15],this}fromPerspective({fov:t,aspect:e,near:i,far:s}={}){let r,n;return r=1/Math.tan(t/2),n=1/(i-s),this[0]=r/e,this[1]=0,this[2]=0,this[3]=0,this[4]=0,this[5]=r,this[6]=0,this[7]=0,this[8]=0,this[9]=0,this[10]=(s+i)*n,this[11]=-1,this[12]=0,this[13]=0,this[14]=2*s*i*n,this[15]=0,this}fromOrthogonal({left:t,right:e,bottom:i,top:s,near:r,far:n}){let h,a,o;return h=1/(t-e),a=1/(i-s),o=1/(r-n),this[0]=-2*h,this[1]=0,this[2]=0,this[3]=0,this[4]=0,this[5]=-2*a,this[6]=0,this[7]=0,this[8]=0,this[9]=0,this[10]=2*o,this[11]=0,this[12]=(t+e)*h,this[13]=(s+i)*a,this[14]=(n+r)*o,this[15]=1,this}fromQuaternion(t){let e,i,s,r,n,h,a,o,l,c,u,d,g,m,f,p;return e=t[0],i=t[1],s=t[2],r=t[3],n=e+e,h=i+i,a=s+s,o=e*n,l=i*n,c=i*h,u=s*n,d=s*h,g=s*a,m=r*n,f=r*h,p=r*a,this[0]=1-c-g,this[1]=l+p,this[2]=u-f,this[3]=0,this[4]=l-p,this[5]=1-o-g,this[6]=d+m,this[7]=0,this[8]=u+f,this[9]=d-m,this[10]=1-o-c,this[11]=0,this[12]=0,this[13]=0,this[14]=0,this[15]=1,this}setPosition(t){return this.x=t[0],this.y=t[1],this.z=t[2],this}inverse(t=this){let e,i,s,r,n,h,a,o,l,c,u,d,g,m,f,p,x,b,v,y,w,M,C,A,E,_,T,S,N;return e=t[0],i=t[1],s=t[2],r=t[3],n=t[4],h=t[5],a=t[6],o=t[7],l=t[8],c=t[9],u=t[10],d=t[11],g=t[12],m=t[13],f=t[14],p=t[15],x=e*h-i*n,b=e*a-s*n,v=e*o-r*n,y=i*a-s*h,w=i*o-r*h,M=s*o-r*a,C=l*m-c*g,A=l*f-u*g,E=l*p-d*g,_=c*f-u*m,T=c*p-d*m,(N=x*(S=u*p-d*f)-b*T+v*_+y*E-w*A+M*C)&&(N=1/N,this[0]=(h*S-a*T+o*_)*N,this[1]=(s*T-i*S-r*_)*N,this[2]=(m*M-f*w+p*y)*N,this[3]=(u*w-c*M-d*y)*N,this[4]=(a*E-n*S-o*A)*N,this[5]=(e*S-s*E+r*A)*N,this[6]=(f*v-g*M-p*b)*N,this[7]=(l*M-u*v+d*b)*N,this[8]=(n*T-h*E+o*C)*N,this[9]=(i*E-e*T-r*C)*N,this[10]=(g*w-m*v+p*x)*N,this[11]=(c*v-l*w-d*x)*N,this[12]=(h*A-n*_-a*C)*N,this[13]=(e*_-i*A+s*C)*N,this[14]=(m*b-g*y-f*x)*N,this[15]=(l*y-c*b+u*x)*N),this}compose(t,e,i){let s,r,n,h,a,o,l,c,u,d,g,m,f,p,x,b,v,y,w;return s=t[0],r=t[1],n=t[2],h=t[3],a=s+s,o=r+r,l=n+n,c=s*a,u=s*o,d=s*l,g=r*o,m=r*l,f=n*l,p=h*a,x=h*o,b=h*l,v=i[0],y=i[1],w=i[2],this[0]=(1-(g+f))*v,this[1]=(u+b)*v,this[2]=(d-x)*v,this[3]=0,this[4]=(u-b)*y,this[5]=(1-(c+f))*y,this[6]=(m+p)*y,this[7]=0,this[8]=(d+x)*w,this[9]=(m-p)*w,this[10]=(1-(c+g))*w,this[11]=0,this[12]=e[0],this[13]=e[1],this[14]=e[2],this[15]=1,this}decompose(t,e,i){let s,r,n,h,a,o,l;return s=P([this[0],this[1],this[2]]),r=P([this[4],this[5],this[6]]),n=P([this[8],this[9],this[10]]),0>tg(this)&&(s=-s),e[0]=this[12],e[1]=this[13],e[2]=this[14],h=this.slice(),a=1/s,o=1/r,l=1/n,h[0]*=a,h[1]*=a,h[2]*=a,h[4]*=o,h[5]*=o,h[6]*=o,h[8]*=l,h[9]*=l,h[10]*=l,tp(t,h),i[0]=s,i[1]=r,i[2]=n,this}getRotation(t){return tp(t,this),this}getTranslation(t){return t[0]=this[12],t[1]=this[13],t[2]=this[14],this}getScaling(t){return tf(t,this),this}getMaxScaleOnAxis(){let t,e,i,s,r,n,h,a,o;return t=this[0],e=this[1],i=this[2],s=this[4],r=this[5],n=this[6],h=this[8],Math.sqrt(Math.max(t*t+e*e+i*i,s*s+r*r+n*n,h*h+(a=this[9])*a+(o=this[10])*o))}lookAt(t,e,i){let s,r,n,h,a,o,l,c,u,d,g,m,f;return s=t[0],r=t[1],n=t[2],h=i[0],a=i[1],o=i[2],l=s-e[0],0==(d=l*l+(c=r-e[1])*c+(u=n-e[2])*u)?u=1:(l*=d=1/Math.sqrt(d),c*=d,u*=d),0==(d=(g=a*u-o*c)*g+(m=o*l-h*u)*m+(f=h*c-a*l)*f)&&(o?h+=1e-6:a?o+=1e-6:a+=1e-6,d=(g=a*u-o*c)*g+(m=o*l-h*u)*m+(f=h*c-a*l)*f),g*=d=1/Math.sqrt(d),m*=d,f*=d,this[0]=g,this[1]=m,this[2]=f,this[3]=0,this[4]=c*f-u*m,this[5]=u*g-l*f,this[6]=l*m-c*g,this[7]=0,this[8]=l,this[9]=c,this[10]=u,this[11]=0,this[12]=s,this[13]=r,this[14]=n,this[15]=1,this}determinant(){return tg(this)}fromArray(t,e=0){return this[0]=t[e],this[1]=t[e+1],this[2]=t[e+2],this[3]=t[e+3],this[4]=t[e+4],this[5]=t[e+5],this[6]=t[e+6],this[7]=t[e+7],this[8]=t[e+8],this[9]=t[e+9],this[10]=t[e+10],this[11]=t[e+11],this[12]=t[e+12],this[13]=t[e+13],this[14]=t[e+14],this[15]=t[e+15],this}toArray(t=[],e=0){return t[e]=this[0],t[e+1]=this[1],t[e+2]=this[2],t[e+3]=this[3],t[e+4]=this[4],t[e+5]=this[5],t[e+6]=this[6],t[e+7]=this[7],t[e+8]=this[8],t[e+9]=this[9],t[e+10]=this[10],t[e+11]=this[11],t[e+12]=this[12],t[e+13]=this[13],t[e+14]=this[14],t[e+15]=this[15],t}}let ty=new tv;class tw extends Array{constructor(t=0,e=t,i=t,s="YXZ"){super(t,e,i),this.order=s,this.onChange=()=>{},this._target=this;const r=["0","1","2"];return new Proxy(this,{set(t,e){let i=Reflect.set(...arguments);return i&&r.includes(e)&&t.onChange(),i}})}get x(){return this[0]}get y(){return this[1]}get z(){return this[2]}set x(t){this._target[0]=t,this.onChange()}set y(t){this._target[1]=t,this.onChange()}set z(t){this._target[2]=t,this.onChange()}set(t,e=t,i=t){return t.length?this.copy(t):(this._target[0]=t,this._target[1]=e,this._target[2]=i,this.onChange(),this)}copy(t){return this._target[0]=t[0],this._target[1]=t[1],this._target[2]=t[2],this.onChange(),this}reorder(t){return this._target.order=t,this.onChange(),this}fromRotationMatrix(t,e=this.order){return!function(t,e,i="YXZ"){"XYZ"===i?(t[1]=Math.asin(Math.min(Math.max(e[8],-1),1)),.99999>Math.abs(e[8])?(t[0]=Math.atan2(-e[9],e[10]),t[2]=Math.atan2(-e[4],e[0])):(t[0]=Math.atan2(e[6],e[5]),t[2]=0)):"YXZ"===i?(t[0]=Math.asin(-Math.min(Math.max(e[9],-1),1)),.99999>Math.abs(e[9])?(t[1]=Math.atan2(e[8],e[10]),t[2]=Math.atan2(e[1],e[5])):(t[1]=Math.atan2(-e[2],e[0]),t[2]=0)):"ZXY"===i?(t[0]=Math.asin(Math.min(Math.max(e[6],-1),1)),.99999>Math.abs(e[6])?(t[1]=Math.atan2(-e[2],e[10]),t[2]=Math.atan2(-e[4],e[5])):(t[1]=0,t[2]=Math.atan2(e[1],e[0]))):"ZYX"===i?(t[1]=Math.asin(-Math.min(Math.max(e[2],-1),1)),.99999>Math.abs(e[2])?(t[0]=Math.atan2(e[6],e[10]),t[2]=Math.atan2(e[1],e[0])):(t[0]=0,t[2]=Math.atan2(-e[4],e[5]))):"YZX"===i?(t[2]=Math.asin(Math.min(Math.max(e[1],-1),1)),.99999>Math.abs(e[1])?(t[0]=Math.atan2(-e[9],e[5]),t[1]=Math.atan2(-e[2],e[0])):(t[0]=0,t[1]=Math.atan2(e[8],e[10]))):"XZY"===i&&(t[2]=Math.asin(-Math.min(Math.max(e[4],-1),1)),.99999>Math.abs(e[4])?(t[0]=Math.atan2(e[6],e[5]),t[1]=Math.atan2(e[8],e[0])):(t[0]=Math.atan2(-e[9],e[10]),t[1]=0))}(this._target,t,e),this.onChange(),this}fromQuaternion(t,e=this.order,i){return ty.fromQuaternion(t),this._target.fromRotationMatrix(ty,e),i||this.onChange(),this}fromArray(t,e=0){return this._target[0]=t[e],this._target[1]=t[e+1],this._target[2]=t[e+2],this}toArray(t=[],e=0){return t[e]=this[0],t[e+1]=this[1],t[e+2]=this[2],t}}class tM{constructor(){this.parent=null,this.children=[],this.visible=!0,this.matrix=new tv,this.worldMatrix=new tv,this.matrixAutoUpdate=!0,this.worldMatrixNeedsUpdate=!1,this.position=new W,this.quaternion=new td,this.scale=new W(1),this.rotation=new tw,this.up=new W(0,1,0),this.rotation._target.onChange=()=>this.quaternion.fromEuler(this.rotation,!0),this.quaternion._target.onChange=()=>this.rotation.fromQuaternion(this.quaternion,void 0,!0)}setParent(t,e=!0){this.parent&&t!==this.parent&&this.parent.removeChild(this,!1),this.parent=t,e&&t&&t.addChild(this,!1)}addChild(t,e=!0){~this.children.indexOf(t)||this.children.push(t),e&&t.setParent(this,!1)}removeChild(t,e=!0){~this.children.indexOf(t)&&this.children.splice(this.children.indexOf(t),1),e&&t.setParent(null,!1)}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.worldMatrixNeedsUpdate||t)&&(null===this.parent?this.worldMatrix.copy(this.matrix):this.worldMatrix.multiply(this.parent.worldMatrix,this.matrix),this.worldMatrixNeedsUpdate=!1,t=!0);for(let e=0,i=this.children.length;e<i;e++)this.children[e].updateMatrixWorld(t)}updateMatrix(){this.matrix.compose(this.quaternion,this.position,this.scale),this.worldMatrixNeedsUpdate=!0}traverse(t){if(!t(this))for(let e=0,i=this.children.length;e<i;e++)this.children[e].traverse(t)}decompose(){this.matrix.decompose(this.quaternion._target,this.position,this.scale),this.rotation.fromQuaternion(this.quaternion)}lookAt(t,e=!1){e?this.matrix.lookAt(this.position,t,this.up):this.matrix.lookAt(t,this.position,this.up),this.matrix.getRotation(this.quaternion._target),this.rotation.fromQuaternion(this.quaternion)}}function tC(t,e,i){let s=e[0],r=e[1],n=e[2],h=e[3],a=e[4],o=e[5],l=e[6],c=e[7],u=e[8],d=i[0],g=i[1],m=i[2],f=i[3],p=i[4],x=i[5],b=i[6],v=i[7],y=i[8];return t[0]=d*s+g*h+m*l,t[1]=d*r+g*a+m*c,t[2]=d*n+g*o+m*u,t[3]=f*s+p*h+x*l,t[4]=f*r+p*a+x*c,t[5]=f*n+p*o+x*u,t[6]=b*s+v*h+y*l,t[7]=b*r+v*a+y*c,t[8]=b*n+v*o+y*u,t}class tA extends Array{constructor(t=1,e=0,i=0,s=0,r=1,n=0,h=0,a=0,o=1){return super(t,e,i,s,r,n,h,a,o),this}set(t,e,i,s,r,n,h,a,o){return t.length?this.copy(t):(this[0]=t,this[1]=e,this[2]=i,this[3]=s,this[4]=r,this[5]=n,this[6]=h,this[7]=a,this[8]=o,this)}translate(t,e=this){let i,s,r,n,h,a,o,l,c,u,d;return i=e[0],s=e[1],r=e[2],n=e[3],h=e[4],a=e[5],o=e[6],l=e[7],c=e[8],u=t[0],d=t[1],this[0]=i,this[1]=s,this[2]=r,this[3]=n,this[4]=h,this[5]=a,this[6]=u*i+d*n+o,this[7]=u*s+d*h+l,this[8]=u*r+d*a+c,this}rotate(t,e=this){let i,s,r,n,h,a,o,l,c,u,d;return i=e[0],s=e[1],r=e[2],n=e[3],h=e[4],a=e[5],o=e[6],l=e[7],c=e[8],u=Math.sin(t),d=Math.cos(t),this[0]=d*i+u*n,this[1]=d*s+u*h,this[2]=d*r+u*a,this[3]=d*n-u*i,this[4]=d*h-u*s,this[5]=d*a-u*r,this[6]=o,this[7]=l,this[8]=c,this}scale(t,e=this){let i,s;return i=t[0],s=t[1],this[0]=i*e[0],this[1]=i*e[1],this[2]=i*e[2],this[3]=s*e[3],this[4]=s*e[4],this[5]=s*e[5],this[6]=e[6],this[7]=e[7],this[8]=e[8],this}multiply(t,e){return e?tC(this,t,e):tC(this,this,t),this}identity(){return this[0]=1,this[1]=0,this[2]=0,this[3]=0,this[4]=1,this[5]=0,this[6]=0,this[7]=0,this[8]=1,this}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this[4]=t[4],this[5]=t[5],this[6]=t[6],this[7]=t[7],this[8]=t[8],this}fromMatrix4(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[4],this[4]=t[5],this[5]=t[6],this[6]=t[8],this[7]=t[9],this[8]=t[10],this}fromQuaternion(t){let e,i,s,r,n,h,a,o,l,c,u,d,g,m,f,p;return e=t[0],i=t[1],s=t[2],r=t[3],n=e+e,h=i+i,a=s+s,o=e*n,l=i*n,c=i*h,u=s*n,d=s*h,g=s*a,m=r*n,f=r*h,p=r*a,this[0]=1-c-g,this[3]=l-p,this[6]=u+f,this[1]=l+p,this[4]=1-o-g,this[7]=d-m,this[2]=u-f,this[5]=d+m,this[8]=1-o-c,this}fromBasis(t,e,i){return this.set(t[0],t[1],t[2],e[0],e[1],e[2],i[0],i[1],i[2]),this}inverse(t=this){let e,i,s,r,n,h,a,o,l,c,u,d,g;return e=t[0],i=t[1],s=t[2],r=t[3],n=t[4],h=t[5],a=t[6],o=t[7],(g=e*(c=(l=t[8])*n-h*o)+i*(u=-l*r+h*a)+s*(d=o*r-n*a))&&(g=1/g,this[0]=c*g,this[1]=(-l*i+s*o)*g,this[2]=(h*i-s*n)*g,this[3]=u*g,this[4]=(l*e-s*a)*g,this[5]=(-h*e+s*r)*g,this[6]=d*g,this[7]=(-o*e+i*a)*g,this[8]=(n*e-i*r)*g),this}getNormalMatrix(t){let e,i,s,r,n,h,a,o,l,c,u,d,g,m,f,p,x,b,v,y,w,M,C,A,E,_,T,S,N;return e=t[0],i=t[1],s=t[2],r=t[3],n=t[4],h=t[5],a=t[6],o=t[7],l=t[8],c=t[9],u=t[10],d=t[11],g=t[12],m=t[13],f=t[14],p=t[15],x=e*h-i*n,b=e*a-s*n,v=e*o-r*n,y=i*a-s*h,w=i*o-r*h,M=s*o-r*a,C=l*m-c*g,A=l*f-u*g,E=l*p-d*g,_=c*f-u*m,T=c*p-d*m,(N=x*(S=u*p-d*f)-b*T+v*_+y*E-w*A+M*C)&&(N=1/N,this[0]=(h*S-a*T+o*_)*N,this[1]=(a*E-n*S-o*A)*N,this[2]=(n*T-h*E+o*C)*N,this[3]=(s*T-i*S-r*_)*N,this[4]=(e*S-s*E+r*A)*N,this[5]=(i*E-e*T-r*C)*N,this[6]=(m*M-f*w+p*y)*N,this[7]=(f*v-g*M-p*b)*N,this[8]=(g*w-m*v+p*x)*N),this}}let tE=0;class t_ extends tM{constructor(t,{geometry:e,program:i,mode:s=t.TRIANGLES,frustumCulled:r=!0,renderOrder:n=0}={}){super(),t.canvas||console.error("gl not passed as first argument to Mesh"),this.gl=t,this.id=tE++,this.geometry=e,this.program=i,this.mode=s,this.frustumCulled=r,this.renderOrder=n,this.modelViewMatrix=new tv,this.normalMatrix=new tA,this.beforeRenderCallbacks=[],this.afterRenderCallbacks=[]}onBeforeRender(t){return this.beforeRenderCallbacks.push(t),this}onAfterRender(t){return this.afterRenderCallbacks.push(t),this}draw({camera:t}={}){t&&(this.program.uniforms.modelMatrix||Object.assign(this.program.uniforms,{modelMatrix:{value:null},viewMatrix:{value:null},modelViewMatrix:{value:null},normalMatrix:{value:null},projectionMatrix:{value:null},cameraPosition:{value:null}}),this.program.uniforms.projectionMatrix.value=t.projectionMatrix,this.program.uniforms.cameraPosition.value=t.worldPosition,this.program.uniforms.viewMatrix.value=t.viewMatrix,this.modelViewMatrix.multiply(t.viewMatrix,this.worldMatrix),this.normalMatrix.getNormalMatrix(this.modelViewMatrix),this.program.uniforms.modelMatrix.value=this.worldMatrix,this.program.uniforms.modelViewMatrix.value=this.modelViewMatrix,this.program.uniforms.normalMatrix.value=this.normalMatrix),this.beforeRenderCallbacks.forEach(e=>e&&e({mesh:this,camera:t}));let e=this.program.cullFace&&0>this.worldMatrix.determinant();this.program.use({flipFaces:e}),this.geometry.draw({mode:this.mode,program:this.program}),this.afterRenderCallbacks.forEach(e=>e&&e({mesh:this,camera:t}))}}let tT="#ffffff",tS=t=>{let e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?[parseInt(e[1],16)/255,parseInt(e[2],16)/255,parseInt(e[3],16)/255]:[1,1,1]},tN=(t,e,i)=>{switch(t){case"top-left":return{anchor:[0,-.2*i],dir:[0,1]};case"top-right":return{anchor:[e,-.2*i],dir:[0,1]};case"left":return{anchor:[-.2*e,.5*i],dir:[1,0]};case"right":return{anchor:[1.2*e,.5*i],dir:[-1,0]};case"bottom-left":return{anchor:[0,1.2*i],dir:[0,-1]};case"bottom-center":return{anchor:[.5*e,1.2*i],dir:[0,-1]};case"bottom-right":return{anchor:[e,1.2*i],dir:[0,-1]};default:return{anchor:[.5*e,-.2*i],dir:[0,1]}}},tk=({raysOrigin:t="top-center",raysColor:e=tT,raysSpeed:i=1,lightSpread:s=1,rayLength:h=2,pulsating:a=!1,fadeDistance:o=1,saturation:l=1,followMouse:c=!0,mouseInfluence:u=.1,noiseAmount:d=0,distortion:g=0,className:m=""})=>{let f=(0,n.useRef)(null),p=(0,n.useRef)(null),x=(0,n.useRef)(null),b=(0,n.useRef)({x:.5,y:.5}),v=(0,n.useRef)({x:.5,y:.5}),y=(0,n.useRef)(null),w=(0,n.useRef)(null),M=(0,n.useRef)(null),[C,A]=(0,n.useState)(!1),E=(0,n.useRef)(null);return(0,n.useEffect)(()=>{if(f.current)return E.current=new IntersectionObserver(t=>{A(t[0].isIntersecting)},{threshold:.1}),E.current.observe(f.current),()=>{E.current&&(E.current.disconnect(),E.current=null)}},[]),(0,n.useEffect)(()=>{if(C&&f.current)return M.current&&(M.current(),M.current=null),(async()=>{if(!f.current||(await new Promise(t=>setTimeout(t,10)),!f.current))return;let r=new K({dpr:Math.min(window.devicePixelRatio,2),alpha:!0});x.current=r;let n=r.gl;for(n.canvas.style.width="100%",n.canvas.style.height="100%";f.current.firstChild;)f.current.removeChild(f.current.firstChild);f.current.appendChild(n.canvas);let m=`
attribute vec2 position;
varying vec2 vUv;
void main() {
  vUv = position * 0.5 + 0.5;
  gl_Position = vec4(position, 0.0, 1.0);
}`,C=`precision highp float;

uniform float iTime;
uniform vec2  iResolution;

uniform vec2  rayPos;
uniform vec2  rayDir;
uniform vec3  raysColor;
uniform float raysSpeed;
uniform float lightSpread;
uniform float rayLength;
uniform float pulsating;
uniform float fadeDistance;
uniform float saturation;
uniform vec2  mousePos;
uniform float mouseInfluence;
uniform float noiseAmount;
uniform float distortion;

varying vec2 vUv;

float noise(vec2 st) {
  return fract(sin(dot(st.xy, vec2(12.9898,78.233))) * 43758.5453123);
}

float rayStrength(vec2 raySource, vec2 rayRefDirection, vec2 coord,
                  float seedA, float seedB, float speed) {
  vec2 sourceToCoord = coord - raySource;
  vec2 dirNorm = normalize(sourceToCoord);
  float cosAngle = dot(dirNorm, rayRefDirection);

  float distortedAngle = cosAngle + distortion * sin(iTime * 2.0 + length(sourceToCoord) * 0.01) * 0.2;
  
  float spreadFactor = pow(max(distortedAngle, 0.0), 1.0 / max(lightSpread, 0.001));

  float distance = length(sourceToCoord);
  float maxDistance = iResolution.x * rayLength;
  float lengthFalloff = clamp((maxDistance - distance) / maxDistance, 0.0, 1.0);
  
  float fadeFalloff = clamp((iResolution.x * fadeDistance - distance) / (iResolution.x * fadeDistance), 0.5, 1.0);
  float pulse = pulsating > 0.5 ? (0.8 + 0.2 * sin(iTime * speed * 3.0)) : 1.0;

  float baseStrength = clamp(
    (0.45 + 0.15 * sin(distortedAngle * seedA + iTime * speed)) +
    (0.3 + 0.2 * cos(-distortedAngle * seedB + iTime * speed)),
    0.0, 1.0
  );

  return baseStrength * lengthFalloff * fadeFalloff * spreadFactor * pulse;
}

void mainImage(out vec4 fragColor, in vec2 fragCoord) {
  vec2 coord = vec2(fragCoord.x, iResolution.y - fragCoord.y);
  
  vec2 finalRayDir = rayDir;
  if (mouseInfluence > 0.0) {
    vec2 mouseScreenPos = mousePos * iResolution.xy;
    vec2 mouseDirection = normalize(mouseScreenPos - rayPos);
    finalRayDir = normalize(mix(rayDir, mouseDirection, mouseInfluence));
  }

  vec4 rays1 = vec4(1.0) *
               rayStrength(rayPos, finalRayDir, coord, 36.2214, 21.11349,
                           1.5 * raysSpeed);
  vec4 rays2 = vec4(1.0) *
               rayStrength(rayPos, finalRayDir, coord, 22.3991, 18.0234,
                           1.1 * raysSpeed);

  fragColor = rays1 * 0.5 + rays2 * 0.4;

  if (noiseAmount > 0.0) {
    float n = noise(coord * 0.01 + iTime * 0.1);
    fragColor.rgb *= (1.0 - noiseAmount + noiseAmount * n);
  }

  float brightness = 1.0 - (coord.y / iResolution.y);
  fragColor.x *= 0.1 + brightness * 0.8;
  fragColor.y *= 0.3 + brightness * 0.6;
  fragColor.z *= 0.5 + brightness * 0.5;

  if (saturation != 1.0) {
    float gray = dot(fragColor.rgb, vec3(0.299, 0.587, 0.114));
    fragColor.rgb = mix(vec3(gray), fragColor.rgb, saturation);
  }

  fragColor.rgb *= raysColor;
}

void main() {
  vec4 color;
  mainImage(color, gl_FragCoord.xy);
  gl_FragColor  = color;
}`,A={iTime:{value:0},iResolution:{value:[1,1]},rayPos:{value:[0,0]},rayDir:{value:[0,1]},raysColor:{value:tS(e)},raysSpeed:{value:i},lightSpread:{value:s},rayLength:{value:h},pulsating:{value:+!!a},fadeDistance:{value:o},saturation:{value:l},mousePos:{value:[.5,.5]},mouseInfluence:{value:u},noiseAmount:{value:d},distortion:{value:g}};p.current=A;let E=new tl(n),_=new J(n,{vertex:m,fragment:C,uniforms:A}),T=new t_(n,{geometry:E,program:_});w.current=T;let S=()=>{if(!f.current||!r)return;r.dpr=Math.min(window.devicePixelRatio,2);let{clientWidth:e,clientHeight:i}=f.current;r.setSize(e,i);let s=r.dpr,n=e*s,h=i*s;A.iResolution.value=[n,h];let{anchor:a,dir:o}=tN(t,n,h);A.rayPos.value=a,A.rayDir.value=o},N=t=>{if(x.current&&p.current&&w.current){A.iTime.value=.001*t,c&&u>0&&(v.current.x=.92*v.current.x+.07999999999999996*b.current.x,v.current.y=.92*v.current.y+.07999999999999996*b.current.y,A.mousePos.value=[v.current.x,v.current.y]);try{r.render({scene:T}),y.current=requestAnimationFrame(N)}catch(t){console.warn("WebGL rendering error:",t);return}}};window.addEventListener("resize",S),S(),y.current=requestAnimationFrame(N),M.current=()=>{if(y.current&&(cancelAnimationFrame(y.current),y.current=null),window.removeEventListener("resize",S),r)try{let t=r.gl.canvas,e=r.gl.getExtension("WEBGL_lose_context");e&&e.loseContext(),t&&t.parentNode&&t.parentNode.removeChild(t)}catch(t){console.warn("Error during WebGL cleanup:",t)}x.current=null,p.current=null,w.current=null}})(),()=>{M.current&&(M.current(),M.current=null)}},[C,t,e,i,s,h,a,o,l,c,u,d,g]),(0,n.useEffect)(()=>{if(!p.current||!f.current||!x.current)return;let r=p.current,n=x.current;r.raysColor.value=tS(e),r.raysSpeed.value=i,r.lightSpread.value=s,r.rayLength.value=h,r.pulsating.value=+!!a,r.fadeDistance.value=o,r.saturation.value=l,r.mouseInfluence.value=u,r.noiseAmount.value=d,r.distortion.value=g;let{clientWidth:c,clientHeight:m}=f.current,b=n.dpr,{anchor:v,dir:y}=tN(t,c*b,m*b);r.rayPos.value=v,r.rayDir.value=y},[e,i,s,t,h,a,o,l,u,d,g]),(0,n.useEffect)(()=>{let t=t=>{if(!f.current||!x.current)return;let e=f.current.getBoundingClientRect();b.current={x:(t.clientX-e.left)/e.width,y:(t.clientY-e.top)/e.height}};if(c)return window.addEventListener("mousemove",t),()=>window.removeEventListener("mousemove",t)},[c]),(0,r.jsx)("div",{ref:f,className:`light-rays-container ${m}`.trim()})},tR=[{id:"phase-1",phase:"Giai on 01",title:"Xy Li Gc R (Hc li t u)",duration:"Thng 1 - 3",description:"Ngng dng AI  vit code h. Quay v hc ngn ng C++  hiu my tnh thc s hot ng th no.",icon:(0,r.jsx)(f.Cpu,{className:"w-6 h-6"}),summary:["Nguyn tc Bng Trng: Phi vit logic ra giy trc khi g phm","Qun l b nh: Hiu cch RAM lu tr d liu (Stack & Heap)","Lp trnh hng i tng (OOP): Hc cch t chc code gn gng","D n: T vit li cc th vin c sn  hiu cch n chy"],detailedRoadmap:[{time:"Thng 1",focus:"Lm quen C++ & Tp t duy",tasks:["Hc g: Bin, Vng lp, Cu iu kin (If-else), Hm.","Lm g: Gii 50 bi tp c bn trn HackerRank (phn C++).","Bt buc: V s  lung chy (flowchart) cho mi bi trc khi code.","Quy tc vng: TUYT I KHNG nh AI gii bi h."]},{time:"Thng 2",focus:"B nh & Con tr (Phn kh nht)",tasks:["Hc g: Con tr (Pointer), Vng nh Stack v Heap, lnh to/xa b nh (new/delete).",'Thc hnh: Tm hiu ti sao chng trnh b li "trn b nh" hoc "r r b nh".',"D n nh: T vit li mt danh sch cha s (Vector) m khng dng th vin c sn."]},{time:"Thng 3",focus:"Sp xp code gn gng (OOP)",tasks:["Hc g: Class (Lp), Object (i tng) v 4 nguyn tc  code d bo tr.","D n nh: Vit phn mm qun l sinh vin chy trn mn hnh en (Console).","Mc tiu: Hiu cch chia nh mt chng trnh ln thnh cc phn nh d qun l."]}]},{id:"phase-2",phase:"Giai on 02",title:"T duy Thut ton & Logic",duration:"Thng 4 - 6",description:"Hc cch t duy logic  gii quyt vn . Hiu bn cht thay v hc vt code mu.",icon:(0,r.jsx)(p.Layers,{className:"w-6 h-6"}),summary:["Cu trc d liu: Danh sch lin kt, Hng i, Ngn xp","Gii thut:  quy (gi li chnh mnh), Sp xp","Cu trc phc tp: Cy (Tree),  th (Graph)","Cng c luyn tp: VisuAlgo (xem m phng) & LeetCode"],detailedRoadmap:[{time:"Thng 4",focus:"Cch lu tr d liu c bn",tasks:["Hc g: Linked List (Danh sch lin kt), Stack (Ngn xp), Queue (Hng i).","Cch hc: Dng trang web VisuAlgo  xem hnh nh ng cch d liu di chuyn.","Lm g: Code li cc cu trc ny bng C++."]},{time:"Thng 5",focus:" quy & Sp xp",tasks:["Hc g: T duy  quy (hm gi li chnh n), thut ton sp xp (Merge Sort, Quick Sort).","Lm g: V m hnh  quy ra giy  hiu cc bc chy.","Bi tp: Gii cc bi d trn LeetCode lin quan n  quy."]},{time:"Thng 6",focus:"Cu trc d liu dng Cy",tasks:["Hc g: Cy nh phn (BST), cc cch duyt qua tng node ca cy.","Lm g: Vit code  to cy, tm kim mt s trong cy, thm/xa s khi cy.","Cng c: Tip tc dng VisuAlgo  d hnh dung."]}]},{id:"phase-3",phase:"Giai on 03",title:"Hc Python & Cng ngh mi",duration:"Thng 7 - 9",description:"Chuyn sang ngn ng Python d vit hn  lm cc ng dng thc t nhanh chng.",icon:(0,r.jsx)(x.Terminal,{className:"w-6 h-6"}),summary:["Cch vit code kiu Python (ngn gn, hiu qu)","T ng ha: Vit tool co d liu web, x l file","C s d liu: Lu tr thng tin vo SQL","Th vin h tr: Dng NumPy, Pandas  x l s liu"],detailedRoadmap:[{time:"Thng 7",focus:"Lm quen Python",tasks:["Hc g: Cch vit code ngn gn (List Comprehensions), Mi trng o.","So snh: Xem cch lu danh sch trong Python khc g so vi mng trong C++.","Ti liu tham kho: Knh YouTube Corey Schafer hoc Real Python."]},{time:"Thng 8",focus:"Vit tool t ng ha",tasks:["Hc g: c ghi file, x l chui vn bn (RegEx).","D n: Vit tool t ng sp xp file trong my tnh hoc tool ly gi vng/chng khon t web."]},{time:"Thng 9",focus:"Lm vic vi D liu (Database)",tasks:["Hc g: Ngn ng truy vn SQL c bn, kt ni Python vi c s d liu.","D n: Nng cp phn mm qun l sinh vin ( Giai on 1)  lu d liu lu di vo Database."]}]},{id:"phase-4",phase:"Giai on 04",title:"Lm D n & Xin Vic",duration:"Thng 10 - 12",description:"Lm d n thc t  a vo h s nng lc (Portfolio) v chun b phng vn.",icon:(0,r.jsx)(b,{className:"w-6 h-6"}),summary:["Thut ton nng cao:  th (Graph) v tm ng i","Kin thc h thng & Qun l code bng Git","D n cui kha (Capstone): Web hoc Tool hon chnh","Vit CV & Lm p h s Github"],detailedRoadmap:[{time:"Thng 10",focus:"Luyn  phng vn",tasks:["Hc g:  th (Graph), thut ton tm ng i ngn nht (Dijkstra).","Lm g: Gii bi tp kh hn (Medium) trn LeetCode. Th sc thi u trn Viblo Code."]},{time:"Thng 11",focus:"Quy trnh lm vic chuyn nghip",tasks:["Hc g: Git (cng c qun l phin bn code), M hnh MVC.","Lm g: a ton b code bi tp ln GitHub, vit hng dn (README) bng ting Anh."]},{time:"Thng 12",focus:"D n ln cui cng",tasks:["Mc tiu: Lm mt ng dng hon chnh (V d: Web bn hng hoc Tool phn tch d liu).","Yu cu: C c phn x l bn trong (Backend Python) v C s d liu.","Kt qu: Sn phm phi chy c  demo cho nh tuyn dng xem."]}]},{id:"phase-5",phase:"H tr",title:"Ting Anh Chuyn Ngnh",duration:"Hc song song",description:"Bt buc phi bit ting Anh  c ti liu v lm vic quc t.",icon:(0,r.jsx)(v.Globe,{className:"w-6 h-6"}),summary:["T vng phn cng (RAM, Cache,  tr...)","T vng phn mm (Trin khai code, Kho cha code...)","T vng v D liu & Quy trnh lm vic","Phng php hc: Nghe podcast v tra t ngay khi c"],detailedRoadmap:[{time:"Phng php hc",focus:"Va hc va lm",tasks:['Ti liu chun: Sch "Oxford English for Information Technology".',"Nghe th ng: Nghe podcast cng ngh khi ang i ng.","Cng c: Ci tin ch eJOY English  tra t nhanh trn trnh duyt web."]},{time:"T kha cn nh",focus:"Cc t hay gp nht",tasks:["Phn cng: Latency ( tr), Cache (B nh m).","Phn mm: Deploy (Trin khai), Repository (Kho code), Merge Conflict (Xung t code).","D liu: Query (Truy vn), Schema (Cu trc), Exception (Li ngoi l).","Quy trnh: Scalability (Kh nng m rng), Sprint (Chu k lm vic)."]}]},{id:"phase-6",phase:"nh hng",title:"K Nng Mm & T Duy",duration:"Trn i",description:"Nhng k nng gip bn khng b AI thay th. AI code nhanh, nhng con ngi mi l ngi gii quyt vn .",icon:(0,r.jsx)(y,{className:"w-6 h-6"}),summary:["Cc v tr kh b AI thay th (Kin trc s, Bo mt...)","T duy phn bin (t cu hi ngc li)","S thu cm (Hiu ngi dng cn g)","K nng giao tip (Gii thch vn  k thut)"],detailedRoadmap:[{time:"Rn luyn t duy",focus:"Tr thnh K s, khng phi th code",tasks:['T duy phn bin: Lun t hi "Ti sao lm cch ny?", "C ri ro g khng?".',"Thu cm: Hiu ni kh khn ca ngi dng  lm sn phm tt hn.","Giao tip: Tp gii thch t ng k thut cho ngi khng bit g v IT."]},{time:"Chin lc xin vic",focus:"Chun b cho nm 2025",tasks:["Vit CV: Tp trung vo kt qu d n (V d: Gip tit kim 40% thi gian).","GitHub: Chm ch code  biu  ng gp trn GitHub lun xanh.","M rng quan h: Tham gia cc nhm cng ng IT cht lng."]}]}],tF=()=>(0,r.jsxs)("section",{className:"relative h-screen flex flex-col items-center justify-center overflow-hidden bg-neutral-950 antialiased bg-grid-white/[0.02]",children:[(0,r.jsx)("div",{className:"absolute inset-0 z-0",children:(0,r.jsx)(tk,{raysOrigin:"top-center",raysColor:"#ffffff",raysSpeed:.2,lightSpread:.6,rayLength:.8,followMouse:!0,mouseInfluence:.05,noiseAmount:.05,distortion:.05})}),(0,r.jsxs)("div",{className:"relative z-10 text-center px-6 max-w-5xl mx-auto",children:[(0,r.jsx)(h.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},children:(0,r.jsx)("span",{className:"inline-block py-1 px-3 rounded-full bg-white/5 border border-white/10 text-xs font-mono text-neutral-400 mb-6 backdrop-blur-md",children:"L TRNH 2025"})}),(0,r.jsxs)("h1",{className:"text-4xl md:text-7xl font-bold tracking-tighter text-white mb-6 leading-[1.2]",children:[(0,r.jsx)(j,{text:"Xy Dng Li",className:"justify-center"}),(0,r.jsx)("span",{className:"text-neutral-400 block mt-2",children:(0,r.jsx)(j,{text:"Gc R Lp Trnh",className:"justify-center",delay:.5})})]}),(0,r.jsx)(h.motion.p,{className:"text-neutral-400 text-lg md:text-xl max-w-2xl mx-auto mb-10 font-light",initial:{opacity:0},animate:{opacity:1},transition:{duration:1,delay:1.2},children:'Hnh trnh t "mt gc" tr thnh K s phn mm vng vng. Ngng ph thuc vo AI, hc li t duy ct li  lm ch cng ngh.'}),(0,r.jsxs)(h.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:1.5},className:"flex flex-col md:flex-row items-center gap-6",children:[(0,r.jsx)("a",{href:"/assessment",className:"px-8 py-3 bg-white text-black font-bold rounded-full hover:bg-neutral-200 transition-colors",children:"Bt u ngay"}),(0,r.jsx)("a",{href:"#roadmap",className:"text-white/70 text-sm font-mono border-b border-white/20 pb-1 hover:text-white hover:border-white transition-all",children:"Xem chi tit l trnh"})]})]}),(0,r.jsx)(h.motion.div,{className:"absolute bottom-10 left-1/2 -translate-x-1/2 text-white/30",animate:{y:[0,10,0]},transition:{duration:2,repeat:1/0},children:(0,r.jsx)(m,{className:"w-6 h-6"})})]}),tj=({data:t,index:e})=>{let i=(0,n.useRef)(null),s=u(i,{once:!0,margin:"-100px"}),[a,o]=(0,n.useState)(!1);return(0,r.jsxs)("div",{ref:i,className:`relative flex flex-col md:flex-row items-center justify-between w-full mb-24 md:mb-40 ${e%2==0?"":"md:flex-row-reverse"}`,children:[(0,r.jsx)("div",{className:"absolute left-1/2 top-0 -translate-x-1/2 hidden md:flex items-center justify-center w-12 h-12 rounded-full bg-neutral-950 border border-neutral-800 z-20 shadow-[0_0_20px_-5px_rgba(255,255,255,0.1)]",children:(0,r.jsx)("div",{className:"w-3 h-3 rounded-full bg-neutral-200"})}),(0,r.jsx)(h.motion.div,{className:"w-full md:w-[42%] relative z-10 cursor-pointer",initial:{opacity:0,y:50,filter:"blur(10px)"},animate:s?{opacity:1,y:0,filter:"blur(0px)"}:{},transition:{duration:.8,delay:.1*e,type:"spring",bounce:.4},onClick:()=>o(!a),children:(0,r.jsx)(O,{className:"h-full w-full",children:(0,r.jsxs)("div",{className:"group relative overflow-hidden rounded-2xl transition-all duration-500 h-full p-8",children:[(0,r.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,r.jsx)("span",{className:"text-xs font-bold tracking-widest uppercase text-neutral-400",children:t.phase})}),(0,r.jsxs)("h3",{className:"text-2xl font-bold text-white mb-3 flex items-center gap-3",children:[t.title,a?(0,r.jsx)(m,{className:"w-5 h-5 text-neutral-500 rotate-180 transition-transform"}):(0,r.jsx)(m,{className:"w-5 h-5 text-neutral-500 transition-transform"})]}),(0,r.jsx)("p",{className:"text-neutral-400 text-sm leading-relaxed mb-6",children:t.description}),!a&&(0,r.jsxs)("div",{className:"space-y-3",children:[t.summary.map((t,e)=>(0,r.jsxs)("div",{className:"flex items-start gap-3",children:[(0,r.jsx)("div",{className:"mt-1.5 w-1.5 h-1.5 rounded-full shrink-0 bg-neutral-600"}),(0,r.jsx)("span",{className:"text-sm text-neutral-300 font-light line-clamp-1",children:t})]},e)),(0,r.jsx)("div",{className:"mt-4 text-xs text-neutral-500 font-mono flex items-center gap-1",children:"(n  xem chi tit)"})]}),(0,r.jsx)("div",{className:"absolute top-8 right-8 p-2 rounded-lg bg-white/5 border border-white/5 text-neutral-400 opacity-50 group-hover:opacity-100 transition-opacity",children:t.icon}),(0,r.jsx)(d.AnimatePresence,{children:a&&(0,r.jsx)(h.motion.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden border-t border-neutral-800 mt-6 pt-6",children:(0,r.jsx)("div",{className:"space-y-8",children:t.detailedRoadmap.map((t,e)=>(0,r.jsxs)("div",{className:"relative pl-6 border-l border-neutral-800",children:[(0,r.jsx)("div",{className:"absolute left-[-5px] top-0 w-2.5 h-2.5 rounded-full bg-neutral-600"}),(0,r.jsx)("h5",{className:"text-lg font-medium text-neutral-300 mb-3",children:t.focus}),(0,r.jsx)("ul",{className:"space-y-2",children:t.tasks.map((t,e)=>(0,r.jsxs)("li",{className:"text-sm text-neutral-400 leading-relaxed flex items-start gap-2",children:[(0,r.jsx)("span",{className:"mt-1.5 w-1 h-1 rounded-full bg-neutral-600 shrink-0"}),t]},e))})]},e))})})})]})})}),(0,r.jsx)("div",{className:"hidden md:block w-[42%]"})]})},tL=()=>{let t=(0,n.useRef)(null),{scrollYProgress:e}=(0,a.useScroll)({target:t,offset:["start end","end end"]}),i=(0,o.useSpring)(e,{stiffness:100,damping:30,restDelta:.001});return(0,r.jsx)("section",{id:"roadmap",className:"relative py-32 px-4 md:px-0 bg-neutral-950 overflow-hidden",ref:t,children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto relative",children:[(0,r.jsx)("div",{className:"absolute left-4 md:left-1/2 top-0 bottom-0 w-px md:w-0.5 bg-neutral-900 -translate-x-1/2",children:(0,r.jsx)(h.motion.div,{style:{scaleY:i,transformOrigin:"top"},className:"absolute top-0 left-0 w-full h-full bg-neutral-700"})}),tR.map((t,e)=>(0,r.jsx)(tj,{data:t,index:e},t.id))]})})},tO=()=>(0,r.jsxs)("section",{className:"py-24 px-6 border-t border-white/5 bg-neutral-900/30 relative overflow-hidden",children:[(0,r.jsxs)("div",{className:"max-w-3xl mx-auto text-center relative z-10",children:[(0,r.jsx)(w,{className:"w-10 h-10 text-white/80 mx-auto mb-8"}),(0,r.jsx)("h2",{className:"text-2xl md:text-3xl font-light italic text-white mb-8 tracking-tight leading-relaxed",children:'"Tng lai ngnh CNTT khng thuc v ngi g code nhanh nht... m thuc v nhng ngi hiu su sc nht v h thng h to ra. Hy bt u cai nghin AI v hc li t u ngay hm nay."'}),(0,r.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,r.jsx)("span",{className:"px-4 py-2 rounded-full bg-white/5 border border-white/10 text-xs font-mono text-neutral-400",children:"K Lut"}),(0,r.jsx)("span",{className:"px-4 py-2 rounded-full bg-white/5 border border-white/10 text-xs font-mono text-neutral-400",children:"Hc Su (Deep Work)"}),(0,r.jsx)("span",{className:"px-4 py-2 rounded-full bg-white/5 border border-white/10 text-xs font-mono text-neutral-400",children:"Nn Tng"})]})]}),(0,r.jsx)("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-10"})]}),tD=()=>(0,r.jsx)("footer",{className:"bg-neutral-950 border-t border-white/10 py-12 px-6",children:(0,r.jsxs)("div",{className:"max-w-5xl mx-auto flex flex-col md:flex-row justify-between items-center gap-8",children:[(0,r.jsxs)("div",{className:"text-center md:text-left",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-white mb-2",children:"DevJourney 2025"}),(0,r.jsx)("p",{className:"text-neutral-500 text-sm",children:"Cng ng h tr sinh vin CNTT hc li t u."})]}),(0,r.jsx)("div",{className:"flex gap-6",children:[M.Github,C,A].map((t,e)=>(0,r.jsx)("a",{href:"#",className:"text-neutral-400 hover:text-white hover:scale-110 transition-all duration-300",children:(0,r.jsx)(t,{className:"w-5 h-5"})},e))})]})});function tP(){return(0,r.jsx)(D,{sparkColor:"#fff",sparkSize:10,sparkRadius:15,sparkCount:8,duration:400,children:(0,r.jsxs)("main",{className:"bg-neutral-950 min-h-screen text-neutral-200 selection:bg-cyan-500/30 selection:text-cyan-100 scroll-smooth",children:[(0,r.jsx)(tF,{}),(0,r.jsx)(tL,{}),(0,r.jsx)(tO,{}),(0,r.jsx)(tD,{})]})})}t.s(["default",()=>tP],15638)}]);